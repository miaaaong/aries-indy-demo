{{> component_nav moreNavLinks=navLinks}}

<div class="content">
    <div class="container">
        <form novalidate autocomplete="false" method="POST" action="/credentials/issue">
            <div class="form-group">
                <select id="connectionId" name="connection_id"
                    class="custom-select {{#filter error_keys "connection_id"}}is-invalid{{/filter}}"
                    value="{{ credential.connectionId }}">
                    <option selected disabled value="">Select a Connection</option>
                    {{#each connections}}
                    <option {{#eq this.connection_id ../credential.connectionId}}selected{{/eq}}
                        value="{{this.connection_id}}">{{this.their_label}} {{this.connection_id}}</option>
                    {{/each}}
                </select>
                {{#filter error_keys "connection_id"}}
                <div class="invalid-feedback d-block">
                    {{#each ../errors}}
                    {{#eq this.param "connection_id"}}
                    <div>{{ this.msg }}</div>
                    {{/eq}}
                    {{/each}}
                </div>
                {{/filter}}
            </div>
            <div class="form-group">
                <select id="schemaId" name="schema_id"
                    class="custom-select {{#filter error_keys "schema_id"}}is-invalid{{/filter}}"
                    value="{{ credential.schemaId }}">
                    <option selected disabled value="">Select a Schema</option>
                    {{#each schemaIds}}
                    <option {{#eq this ../credential.schemaId}}selected{{/eq}}
                        value="{{this}}">{{this}}</option>
                    {{/each}}
                </select>
                {{#filter error_keys "schema_id"}}
                <div class="invalid-feedback d-block">
                    {{#each ../errors}}
                    {{#eq this.param "schema_id"}}
                    <div>{{ this.msg }}</div>
                    {{/eq}}
                    {{/each}}
                </div>
                {{/filter}}
            </div>
            <div class="form-group">
                <select id="definitionId" name="definition_id"
                    class="custom-select {{#filter error_keys "definition_id"}}is-invalid{{/filter}}"
                    value="{{ credential.definitionId }}">
                    <option selected disabled value="">Select a Credential Definition</option>
                    {{#each definitionIds}}
                    <option {{#eq this ../credential.definitionId}}selected{{/eq}}
                        value="{{this}}">{{this}}</option>
                    {{/each}}
                </select>
                {{#filter error_keys "definition_id"}}
                <div class="invalid-feedback d-block">
                    {{#each ../errors}}
                    {{#eq this.param "definition_id"}}
                    <div>{{ this.msg }}</div>
                    {{/eq}}
                    {{/each}}
                </div>
                {{/filter}}
            </div>
            <div class="form-group">
                <label>Add credential attributes in JSON array format :</label>
                <textarea id="credentialAttributes" name="credential_attributes" class="form-control" cols="30" rows="10"
                    >{{ credential.attributes }}</textarea>
            </div>
            <button type="submit" class="btn btn-primary btn-lg btn-block mb-3">
                Issue Credential
            </button>
        </form>
    </div>
</div>
